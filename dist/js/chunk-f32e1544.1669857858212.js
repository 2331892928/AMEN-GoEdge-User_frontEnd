(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f32e1544","chunk-2d0c4d7b"],{"0002":function(t,e,o){"use strict";o("01f2")},"01f2":function(t,e,o){},"2a81":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex justify-center items-center",staticStyle:{height:"100vh"}},[o("div",{staticClass:"row base-card-shadow",staticStyle:{width:"60vw","min-width":"300px"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.$q.screen.gt.sm,expression:"$q.screen.gt.sm"}],staticClass:"col-6 flex justify-center items-center "},[t.isLottieF?t._e():o("q-skeleton",{attrs:{type:"text",height:"70%",width:"50%"}}),o("lottie-web-cimo",{staticStyle:{height:"70%"},attrs:{align:"right",path:t.defaultOptions.path},on:{isLottieFinish:t.handleFinish}})],1),t.$q.screen.gt.sm?o("q-separator",{attrs:{vertical:"",inset:""}}):t._e(),o("div",{staticClass:"col flex justify-center items-center"},[!1===t.regedit?o("q-card",{staticClass:"no-shadow",staticStyle:{"min-width":"290px",height:"100%",width:"60%"},attrs:{square:""}},[o("q-card-section",{attrs:{align:"center"}},[o("h3",{staticClass:"text-uppercase"},[t._v("登录")]),o("q-input",{staticClass:"logon-input",attrs:{clearable:"",standout:"bg-cyan text-white","bottom-slots":"",label:"账号"},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"account_circle"}})]},proxy:!0}],null,!1,3991180320),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("q-input",{staticClass:"logon-input",attrs:{standout:"bg-cyan text-white","bottom-slots":"",label:"密码",type:t.isPwd?"password":"text",hint:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!1,2915731643),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("q-btn",{staticClass:"logon-btn bg-logon-card-input",staticStyle:{"font-size":"large"},attrs:{loading:t.loading,"text-color":"white",unelevated:"",label:""},on:{click:t.logon}},[t._v("登 录 系 统 ")]),o("div",{staticClass:"row justify-between",staticStyle:{"margin-bottom":"20px"}},[o("q-btn",{attrs:{flat:"",label:"忘记密码"},on:{click:function(e){return t.forgotPassword()}}}),o("q-btn",{attrs:{outline:"",label:"我要注册"},on:{click:function(e){t.regedit=!t.regedit}}})],1),o("p",{staticClass:"text-grey",attrs:{align:"left"}},[t._v("账号为邮箱或手机号")])],1)],1):o("q-card",{staticClass:"no-shadow",staticStyle:{"min-width":"290px",height:"100%",width:"60%"},attrs:{square:""}},[o("q-card-section",{attrs:{align:"center"}},[o("h3",{staticClass:"text-uppercase"},[t._v("注册")]),o("q-input",{staticClass:"logon-input",attrs:{clearable:"",standout:"bg-cyan text-white","bottom-slots":"",label:"邮箱或手机号"},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"account_circle"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("q-input",{staticClass:"logon-input",attrs:{standout:"bg-cyan text-white","bottom-slots":"",label:"密码",type:t.isPwd?"password":"text",hint:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("q-input",{staticClass:"logon-input",attrs:{standout:"bg-cyan text-white","bottom-slots":"",label:"重复密码",type:t.isPwd2?"password":"text",hint:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd2?"visibility_off":"visibility"},on:{click:function(e){t.isPwd2=!t.isPwd2}}})]},proxy:!0}]),model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),o("q-input",{staticClass:"logon-input",attrs:{standout:"bg-cyan text-white","bottom-slots":"",label:"邮箱或手机验证码"},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[o("q-btn",{staticClass:"bg-logon-card-input",attrs:{loading:t.loadVerificationCode,size:"10px",label:t.codeLoading},on:{click:t.getcode}})],1),o("q-btn",{staticClass:"logon-btn bg-logon-card-input",staticStyle:{"font-size":"large"},attrs:{loading:t.loading,"text-color":"white",unelevated:"",label:""},on:{click:t.regon}},[t._v("注 册 系 统 ")]),o("div",{staticClass:"row justify-between",staticStyle:{"margin-bottom":"20px"}},[o("q-btn",{attrs:{flat:"",label:""}}),o("q-btn",{attrs:{outline:"",label:"我要登录"},on:{click:function(e){t.regedit=!t.regedit}}})],1),o("p",{staticClass:"text-grey",attrs:{align:"left"}},[t._v("账号为邮箱或手机号（目前没有开启手机号注册）")])],1)],1)],1)],1)])},n=[],s=o("6117"),a=o("515f"),r=o("c4b2"),c=o("3d0d"),l=o("1940"),d=o.n(l),u={name:"Logon",data:function(){return{isPwd:!0,isPwd2:!0,regedit:!1,username:"amen",password:"ljf147258",password2:"ljf147258",code:"",codeLoading:"获取验证码",loadVerificationCode:!1,defaultOptions:{path:"https://assets9.lottiefiles.com/packages/lf20_vo0a1yca.json",loop:!0},loading:!1,percentage:0,isLottieF:!1}},mounted:function(){},components:{LottieWebCimo:s["default"]},methods:{logon:function(){var t=this,e=this,o="1",i="1";this.loading=!this.loading;var n=new TencentCaptcha("2046626881",(function(e){0===e.ret?(o=e.ticket,i=e.randstr,Object(r["loginUser"])(t.username,t.password,o,i).then((function(e){if(200===e.data.code){sessionStorage.setItem("user_role","admin"),sessionStorage.setItem("username",t.username);var o=setTimeout((function(){t.$router.push("/console"),t.$q.notify({icon:"insert_emoticon",message:"hi，"+t.username+" 欢迎回来",color:"green",position:"top",timeout:1500}),clearTimeout(o),t.loading=!t.loading}),3e3*Math.random())}else t.$q.notify({icon:"warning",message:e.data.message,color:"warning",position:"top",timeout:1500}),t.loading=!t.loading}))):t.loading=!t.loading}));!0===a["a"].get("verificationCode")?n.show():Object(r["loginUser"])(this.username,this.password,o,i).then((function(o){if(200===o.data.code){sessionStorage.setItem("user_role","admin"),sessionStorage.setItem("username",t.username),e.loading=!t.loading;var i=setTimeout((function(){t.$router.push("/console"),t.$q.notify({icon:"insert_emoticon",message:"hi，"+t.username+" 欢迎回来",color:"green",position:"top",timeout:1500}),clearTimeout(i),t.loading=!t.loading}),3e3*Math.random())}else t.$q.notify({icon:"warning",message:o.data.message,color:"warning",position:"top",timeout:1500}),t.loading=!t.loading}))},regon:function(){var t=this,e="1",o="1";if(this.loading=!this.loading,""===this.code||null===this.code)return this.$q.notify({icon:"warning",message:"请填写验证码",color:"warning",position:"top",timeout:1500}),void(this.loading=!this.loading);if(!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(this.username)&&!/^1[3456789]\d{9}$/.test(this.username))return this.$q.notify({icon:"warning",message:"用户名不规范，必须是邮箱或手机号",color:"warning",position:"top",timeout:1500}),void(this.loading=!this.loading);if(!/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[\W]).{8,}/.test(this.password))return this.$q.notify({icon:"warning",message:"密码不规范，必须包含大写/小写/数字/特殊字符",color:"warning",position:"top",timeout:1500}),void(this.loading=!this.loading);if(this.password!==this.password2)return this.$q.notify({icon:"warning",message:"重复密码不一致",color:"warning",position:"top",timeout:1500}),void(this.loading=!this.loading);var i=new TencentCaptcha("2046626881",(function(i){0===i.ret?(e=i.ticket,o=i.randstr,Object(r["registerUser"])(t.username,t.password,t.code,e,o).then((function(e){200===e.data.code?(t.loading=!t.loading,t.$q.notify({icon:"insert_emoticon",message:"注册成功",color:"green",position:"top",timeout:1500}),t.regedit=!t.regedit):(t.$q.notify({icon:"warning",message:e.data.message,color:"warning",position:"top",timeout:1500}),t.loading=!t.loading)}))):t.loading=!t.loading}));!0===a["a"].get("verificationCode")?i.show():Object(r["registerUser"])(this.username,this.password,this.code,e,o).then((function(e){200===e.data.code?(t.loading=!t.loading,t.$q.notify({icon:"insert_emoticon",message:"注册成功",color:"green",position:"top",timeout:1500}),t.regedit=!t.regedit):(t.$q.notify({icon:"warning",message:e.data.message,color:"warning",position:"top",timeout:1500}),t.loading=!t.loading)}))},getcode:function(){var t=this,e="1",o="1";this.loadVerificationCode=!this.loadVerificationCode;var i=new TencentCaptcha("2046626881",(function(i){0===i.ret?(e=i.ticket,o=i.randstr,Object(c["getcode"])(t.username,e,o).then((function(e){200===e.data.code?(t.loadVerificationCode=!t.loadVerificationCode,t.$q.notify({icon:"insert_emoticon",message:"验证码发送成功，请查收",color:"green",position:"top",timeout:1500})):(t.$q.notify({icon:"warning",message:e.data.message,color:"warning",position:"top",timeout:1500}),t.loadVerificationCode=!t.loadVerificationCode)}))):t.loadVerificationCode=!t.loadVerificationCode}));!0===a["a"].get("verificationCode")?i.show():Object(c["getcode"])(this.username,e,o).then((function(e){200===e.data.code?(t.loadVerificationCode=!t.loadVerificationCode,t.$q.notify({icon:"insert_emoticon",message:"验证码发送成功，请查收",color:"green",position:"top",timeout:1500})):(t.$q.notify({icon:"warning",message:e.data.message,color:"warning",position:"top",timeout:1500}),t.loadVerificationCode=!t.loadVerificationCode)}))},handleFinish:function(t){this.isLottieF=t},forgotPassword:function(){d()("暂时不支持自助忘记密码，请联系客服",{icon:"warning"})}}},g=u,p=(o("0002"),o("2877")),f=o("fe09"),m=Object(p["a"])(g,i,n,!1,null,"061c5c02",null);e["default"]=m.exports;m.options.components=Object.assign(Object.create(m.options.components||null),m.options.components||{},{QSkeleton:f["E"],QSeparator:f["D"],QCard:f["g"],QCardSection:f["i"],QInput:f["q"],QIcon:f["o"],QBtn:f["f"]})},"3d0d":function(t,e,o){"use strict";o.r(e),o.d(e,"getcode",(function(){return s}));var i=o("017a"),n=o("6cf6");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(i["default"])({url:n["routerConfig"].proxy+n["routerConfig"].Verification.main+n["routerConfig"].Verification.getcode,method:"post",responseType:"json",data:{number:t,ticket:e,randstr:o}})}}}]);